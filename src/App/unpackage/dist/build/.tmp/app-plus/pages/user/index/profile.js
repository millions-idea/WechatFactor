(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index/profile"],{"3b64":function(e,t,n){"use strict";var a=n("de2a"),o=n.n(a);o.a},"503e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2f62");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={onLoad:function(){this.queryPhone(),this.queryPayment(),this.queryWechat()},computed:o({},(0,a.mapState)(["hasLogin","profile"]),{getPhoneClassName:function(){return"foot "+this.phoneClassName},getPaymentClassName:function(){return"foot "+this.paymentClassName},getWechatClassName:function(){return"foot "+this.wechatClassName}}),methods:o({},(0,a.mapActions)(["setProfile","login"]),{queryPhone:function(){null==this.profile.phone||0==this.profile.phone.length?(this.phoneClassName="gray",this.phone="点击绑定"):(this.phoneClassName="black",this.phone=this.profile.phone)},queryPayment:function(){this.profile.exitsPayment?(this.paymentClassName="green",this.payment="账户安全保障中"):(this.paymentClassName="gray",this.payment="未设置")},queryWechat:function(){null==this.profile.wechat||0==this.profile.wechat.length?(this.wechatClassName="gray",this.wechat="未绑定"):(this.wechatClassName="gray",this.wechat="点击查看")},formOpenWindow:function(e){var t="generics-form/generics-form";"nickName"==e?this.common.window.toNew(t,{formName:"nickName",title:"修改名字",topLabel:"2-24个字符，严禁出现违规内容，违者封号",value:this.profile.nickName,maxLength:24,minLength:2,success:"onNickNameChange"}):"phone"==e?this.common.window.toNew(t,{formName:"phone",title:"绑定手机号",topLabel:"每月限制换绑1次，需要接收短信验证码进行身份验证",bottomLabel:"为确保您账户的安全及正常使用，依《网络安全法》相关要求，6月1日起会员账户需绑定手机。如您还未绑定，请尽快完成，感谢您的理解及支持！ ",value:this.profile.phone,maxLength:11,minLength:11,success:"onPhoneChange",type:"number"}):"payment"==e&&this.common.window.toNew("user/index/payment",{formName:"payment",title:"设置支付密码"})},onNickNameChange:function(t){this.appEvents.$emit("close__nickName"),console.log("您的名字已修改为"+t),setTimeout(function(){e.showToast({icon:"none",title:"名字修改成功"})},1e3)},onPhoneChange:function(e){console.log(e),this.common.window.toNew("generics-sms/generics-sms",{formName:"bindPhone",phone:this.profile.phone,success:"onSMSbindPhoneDone"})},onSMSbindPhoneDone:function(t){console.log(t),"123456"!=t&&e.showToast({icon:"none",title:"验证码输入错误"})}}),created:function(){this.appEvents.$on("onNickNameChange",this.onNickNameChange),this.appEvents.$on("onPhoneChange",this.onPhoneChange),this.appEvents.$on("onBindPhoneSmsChange",this.onBindPhoneSmsChange),this.appEvents.$on("onSMSbindPhoneDone",this.onSMSbindPhoneDone)},destroyed:function(){this.appEvents.$off("onNickNameChange"),this.appEvents.$off("onPhoneChange"),this.appEvents.$off("onBindPhoneSmsChange"),this.appEvents.$off("onSMSbindPhoneDone")},data:function(){return{avatar:"../../../static/user/default-avatar.png",phoneClassName:"",paymentClassName:"",wechatClassName:"",phone:"",payment:"",wechat:""}}};t.default=i}).call(this,n("649d")["default"])},a0b4:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:"grace-list"},[n("navigator",{staticClass:"items",attrs:{eventid:"71d10ca8-0"},on:{tap:function(t){e.formOpenWindow("nickName")}}},[n("view",{staticClass:"title"},[n("text",{staticClass:"head"},[e._v("名字")]),n("text",{class:["foot","black"]},[e._v(e._s(e.profile.nickName))])]),n("view",{staticClass:"arrow-right"})]),n("navigator",{staticClass:"items",attrs:{eventid:"71d10ca8-1"},on:{tap:function(t){e.formOpenWindow("phone")}}},[n("view",{staticClass:"title"},[n("text",{staticClass:"head"},[e._v("手机号")]),n("text",{class:e.getPhoneClassName},[e._v(e._s(e.phone))])]),n("view",{staticClass:"arrow-right"})]),n("navigator",{staticClass:"items",attrs:{eventid:"71d10ca8-2"},on:{tap:function(t){e.formOpenWindow("payment")}}},[n("view",{staticClass:"title"},[n("text",{staticClass:"head"},[e._v("支付密码")]),n("text",{class:e.getPaymentClassName},[e._v(e._s(e.payment))])]),n("view",{staticClass:"arrow-right"})]),n("navigator",{staticClass:"items",attrs:{eventid:"71d10ca8-3"},on:{tap:function(t){e.common.window.toNew("user/index/wechat",null)}}},[n("view",{staticClass:"title"},[n("text",{staticClass:"head"},[e._v("微信二维码")]),n("text",{class:e.getWechatClassName},[e._v(e._s(e.wechat))])]),n("view",{staticClass:"iconfont icon-qrcode"})])],1)])},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},a21a:function(e,t,n){"use strict";n.r(t);var a=n("503e"),o=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);t["default"]=o.a},a4b8:function(e,t,n){"use strict";n("8441");var a=s(n("b0ce")),o=s(n("f542"));function s(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(o.default))},de2a:function(e,t,n){},f542:function(e,t,n){"use strict";n.r(t);var a=n("a0b4"),o=n("a21a");for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);n("3b64");var i=n("2877"),c=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,null,null);t["default"]=c.exports}},[["a4b8","common/runtime","common/vendor"]]]);