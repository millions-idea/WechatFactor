(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index/payment"],{"0242":function(e,t,a){"use strict";var n=a("20e2"),s=a.n(n);s.a},"146b":function(e,t,a){"use strict";a.r(t);var n=a("77f7"),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t["default"]=s.a},"20e2":function(e,t,a){},"4e87":function(e,t,a){},"52bf":function(e,t,a){"use strict";a.r(t);var n=a("9ecf"),s=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t["default"]=s.a},"5b8a":function(e,t,a){"use strict";var n=a("4e87"),s=a.n(n);s.a},"77f7":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("a4bc")),s=i(a("ec29")),o=a("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){r(e,t,a[t])})}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=r({name:"generics-sms",data:function(){return{graceNumberKeyboardShow:!0,numberVal:"",activeIndex:0,codes:["","","","","",""]}},computed:c({},(0,o.mapState)(["hasLogin","profile"])),components:{mhtLoader:n.default,graceSafeyNumberKeyboard:s.default},onLoad:function(){e.hideKeyboard()},created:function(){var t=this;this.appEvents.$on("close__payment",function(){e.navigateBack({delta:t.delta})}),this.appEvents.$on("onSMSpaymentDone",this.onSMSpaymentDone)},destroyed:function(){this.appEvents.$off("close__payment"),this.appEvents.$off("onSMSpaymentDone")},methods:c({},(0,o.mapActions)(["setProfile","login"]),{getFocus:function(e){return this.activeIndex==e},getFocusStyle:function(e){if(this.activeIndex==e)return"input-focus"},encode:function(e){return e},showKeyboard:function(){this.graceNumberKeyboardShow=!0},keyboardInput:function(e){var t=this,a=this.numberVal+""+e+",",n=a.split(",");if(a.length>11)return this.codes[this.codes.length-1]=e,void this.keyboardDone();this.numberVal=a,n.forEach(function(e,a){1==e.length&&(t.codes[a]=e)}),n.length>1&&n.length<=6&&(this.activeIndex=n.length-1)},keyboardDelete:function(){var e=this.numberVal.split(",");e.length<=0||(this.activeIndex=e.length-1,this.numberVal=this.numberVal.substring(0,this.numberVal.length-2))},keyboardDone:function(){this.graceNumberKeyboardShow=!1;var e="";this.codes.map(function(t){return e+t}),this.common.window.toNew("generics-sms/generics-sms",{formName:"payment",phone:this.profile.phone,success:"onSMSpaymentDone"})},onSMSpaymentDone:function(t){console.log("payment_callback_onSMSpaymentDone"),console.log(t),"123456"!=t?e.showToast({icon:"none",title:"验证码输入错误"}):e.navigateBack({delta:2})},onPassSMSVerifyDone:function(t){console.log("payment_callback_onPassSMSVerifyDone"),console.log(t),e.showToast({icon:"none",title:"绑定成功"}),setTimeout(function(){e.navigateBack({delta:2})},2e3)}})},"onLoad",function(e){});t.default=u}).call(this,a("649d")["default"])},"82aa":function(e,t,a){"use strict";a.r(t);var n=a("9018"),s=a("146b");for(var o in s)"default"!==o&&function(e){a.d(t,e,function(){return s[e]})}(o);a("5b8a");var i=a("2877"),c=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=c.exports},9018:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",[a("view",{staticClass:"blank-line-50"}),a("view",{staticClass:"blank-line-20"}),a("text",{staticClass:"header"},[e._v("设置支付密码")]),a("view",{staticClass:"blank-line-10"}),a("view",{staticClass:"blank-line-20"}),a("text",{staticClass:"desc"},[e._v("双重密码保护资金财产安全")]),a("view",{staticClass:"blank-line-50"}),a("view",{staticClass:"sms-code-container"},[a("view",{staticClass:"sms-code-internal-container"},[a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(0)],attrs:{id:1,focus:e.getFocus(0),disabled:!0,value:e.encode(e.codes[0]),maxlength:"1",type:"password",eventid:"aab5bbee-0"},on:{tap:e.showKeyboard}})]),a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(1)],attrs:{id:2,focus:e.getFocus(1),maxlength:"1",disabled:!0,value:e.encode(e.codes[1]),type:"password",eventid:"aab5bbee-1"},on:{tap:e.showKeyboard}})]),a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(2)],attrs:{id:3,focus:e.getFocus(2),maxlength:"1",disabled:!0,value:e.encode(e.codes[2]),type:"password",eventid:"aab5bbee-2"},on:{tap:e.showKeyboard}})]),a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(3)],attrs:{id:4,focus:e.getFocus(3),maxlength:"1",disabled:!0,value:e.encode(e.codes[3]),type:"password",eventid:"aab5bbee-3"},on:{tap:e.showKeyboard}})]),a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(4)],attrs:{id:5,focus:e.getFocus(4),type:"password",maxlength:"1",disabled:!0,value:e.encode(e.codes[4]),eventid:"aab5bbee-4"},on:{tap:e.showKeyboard}})]),a("view",{staticClass:"sms-code-column"},[a("input",{class:["sms-code-char",e.getFocusStyle(5)],attrs:{id:6,focus:e.getFocus(5),type:"password",disabled:!0,value:e.encode(e.codes[5]),maxlength:"1",eventid:"aab5bbee-5"},on:{tap:e.showKeyboard}})])])]),a("graceSafeyNumberKeyboard",{attrs:{show:e.graceNumberKeyboardShow,eventid:"aab5bbee-6",mpcomid:"aab5bbee-0"},on:{keyboardDone:e.keyboardDone,keyboardInput:e.keyboardInput,keyboardDelete:e.keyboardDelete}})],1)},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"9ecf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{show:{type:Boolean,default:!1},doneBtnName:{type:String,default:"完成"}},methods:{inputNow:function(e){var t=e.currentTarget.dataset.keynumber;this.$emit("keyboardInput",t)},deleteNow:function(){this.$emit("keyboardDelete")},done:function(){this.$emit("keyboardDone")}}};t.default=n},da31:function(e,t,a){"use strict";a("8441");var n=o(a("b0ce")),s=o(a("82aa"));function o(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(s.default))},ec29:function(e,t,a){"use strict";a.r(t);var n=a("f6e4"),s=a("52bf");for(var o in s)"default"!==o&&function(e){a.d(t,e,function(){return s[e]})}(o);a("0242");var i=a("2877"),c=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=c.exports},f6e4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",[e.show?a("view",{staticClass:"grace-mask",attrs:{eventid:"7f7e15c1-0"},on:{tap:e.done}}):e._e(),e.show?a("view",{staticClass:"grace-keyboard"},[a("view",{staticClass:"keys-left"},[a("view",{staticClass:"keys",attrs:{"data-keynumber":"1","hover-class":"keydown",eventid:"7f7e15c1-1"},on:{tap:e.inputNow}},[e._v("1")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"2","hover-class":"keydown",eventid:"7f7e15c1-2"},on:{tap:e.inputNow}},[e._v("2")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"3","hover-class":"keydown",eventid:"7f7e15c1-3"},on:{tap:e.inputNow}},[e._v("3")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"4","hover-class":"keydown",eventid:"7f7e15c1-4"},on:{tap:e.inputNow}},[e._v("4")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"5","hover-class":"keydown",eventid:"7f7e15c1-5"},on:{tap:e.inputNow}},[e._v("5")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"6","hover-class":"keydown",eventid:"7f7e15c1-6"},on:{tap:e.inputNow}},[e._v("6")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"7","hover-class":"keydown",eventid:"7f7e15c1-7"},on:{tap:e.inputNow}},[e._v("7")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"8","hover-class":"keydown",eventid:"7f7e15c1-8"},on:{tap:e.inputNow}},[e._v("8")]),a("view",{staticClass:"keys",attrs:{"data-keynumber":"9","hover-class":"keydown",eventid:"7f7e15c1-9"},on:{tap:e.inputNow}},[e._v("9")]),a("view",{staticClass:"keys",staticStyle:{width:"518rpx"},attrs:{"hover-class":"keydown","data-keynumber":"0",eventid:"7f7e15c1-10"},on:{tap:e.inputNow}},[e._v("0")])]),a("view",{staticClass:"keys-right"},[a("view",{staticClass:"keys graceNumberKeyboardFont-delete",attrs:{"hover-class":"keydown",eventid:"7f7e15c1-11"},on:{tap:e.deleteNow}}),a("view",{staticClass:"keys grace-keyboard-done",attrs:{eventid:"7f7e15c1-12"},on:{tap:e.done}},[e._v(e._s(e.doneBtnName))])])]):e._e()])},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})}},[["da31","common/runtime","common/vendor"]]]);